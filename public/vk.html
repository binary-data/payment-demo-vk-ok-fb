<!doctype html>

<!--suppress JSUnresolvedVariable, JSUnresolvedFunction -->
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Payment demo</title>
</head>

<body>

<button id="buy">Buy</button>

<script src="https://vk.com/js/api/xd_connection.js?2"  type="text/javascript"></script>
</body>

<script type="text/javascript">
    VK.init(function () {
        let buy = document.getElementById('buy');
        buy.onclick = () => VK.callMethod('showOrderBox', {type: 'item', item: 'awesome_1'});

        VK.addCallback('onOrderSuccess', order_id => alert(`Order ${order_id} success!`));
        VK.addCallback('onOrderFail', () => alert('Order failed!'));
        VK.addCallback('onOrderCancel', () => alert('Order cancelled!'));
    }, () => {}, '5.131');
</script>
</html>
